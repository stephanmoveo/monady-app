{"ast":null,"code":"var _jsxFileName = \"/Users/stephanbenchemoul/Documents/Projects/Moveo Skills Projects/monady-app/quickstart-react/src/components/video-js/VideoJS2.js\";\nimport React from \"react\";\nimport videojs from \"video.js\";\nimport \"video.js/dist/video-js.css\";\nimport \"./Video.css\";\nimport AnnotationComments from \"@contently/videojs-annotation-comments\";\nimport \"@contently/videojs-annotation-comments/build/css/annotations.css\";\nvideojs.registerPlugin(\"annotationComments\", AnnotationComments(videojs));\nconst annotationsObjects = [{\n  id: 1,\n  range: {\n    start: 10,\n    end: 15\n  },\n  shape: {\n    x1: 23.47,\n    y1: 9.88,\n    x2: 60.83,\n    y2: 44.2\n  },\n  comments: [{\n    id: 1,\n    meta: {\n      datetime: \"2017-03-28T19:17:32.238Z\",\n      user_id: 1,\n      user_name: \"Jack Pope\"\n    },\n    body: \"The first comment!\"\n  }]\n}];\nconst pluginOptions = {\n  // Collection of annotation data to initialize\n  annotationsObjects: [],\n  // Flexible meta data object (currently used for user data, but addl data can be provided to wrap each comment with metadata - provide the id of the current user and fullname of the current user at minimum, which are required for the UI)\n  meta: {\n    user_id: null,\n    user_name: null\n  },\n  // Use arrow keys to move through annotations when Annotation mode is active\n  bindArrowKeys: true,\n  // Show or hide the control panel and annotation toggle button (NOTE - if controls are hidden you must provide custom UI and events to drive the annotations - more on that in \"Programmatic Control\" below)\n  showControls: true,\n  // Show or hide the comment list when an annotation is active. If false, the text 'Click and drag to select', will follow the cursor during annotation mode\n  showCommentList: true,\n  // If false, annotations mode will be disabled in fullscreen\n  showFullScreen: true,\n  // Show or hide the tooltips with comment preview, and annotation shape, on marker hover or timeline activate\n  showMarkerShapeAndTooltips: true,\n  // If false, step two of adding annotations (writing and saving the comment) will be disabled\n  internalCommenting: true,\n  // If true, toggle the player to annotation mode immediately after init. (NOTE - \"annotationModeEnabled\" event is not fired for this initial state)\n  startInAnnotationMode: false\n};\n\nconst VideoJS2 = ({\n  src,\n  onReady\n}) => {\n  useEffect(() => {}, [input]);\n  const videoJsOptions = {\n    autoplay: false,\n    controls: true,\n    responsive: true,\n    fluid: false,\n    loop: true,\n    sources: [{\n      src: src // type: ‘video/mp4’\n\n    }]\n  };\n  const videoRef = React.useRef(null);\n  const playerRef = React.useRef(null);\n  React.useEffect(() => {\n    // make sure Video.js player is only initialized once\n    if (!playerRef.current) {\n      const videoElement = videoRef.current;\n      if (!videoElement) return;\n      const player = playerRef.current = videojs(videoElement, videoJsOptions, () => {\n        console.log(\"readyyyy\");\n        onReady && onReady(player);\n        var plugin = player.annotationComments(pluginOptions);\n        plugin.onReady(() => {});\n      });\n    } else {// you can update player here [update player through props]\n      // const player = playerRef.current;\n      // player.autoplay(options.autoplay);\n      // player.src(options.sources);\n    }\n  }, [videoJsOptions]); // Dispose the Video.js player when the functional component unmounts\n\n  React.useEffect(() => {\n    return () => {\n      if (playerRef.current) {\n        playerRef.current.dispose();\n        playerRef.current = null;\n      }\n    };\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-vjs-player\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"video\", {\n    ref: videoRef,\n    className: \"video-js vjs-big-play-centered\",\n    controls: true,\n    width: \"640\",\n    height: \"268\",\n    preload: \"auto\",\n    \"data-setup\": \"{ \\\"playbackRates\\\": [0.5, 1, 1.5, 2, 4] }\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default VideoJS2;","map":{"version":3,"sources":["/Users/stephanbenchemoul/Documents/Projects/Moveo Skills Projects/monady-app/quickstart-react/src/components/video-js/VideoJS2.js"],"names":["React","videojs","AnnotationComments","registerPlugin","annotationsObjects","id","range","start","end","shape","x1","y1","x2","y2","comments","meta","datetime","user_id","user_name","body","pluginOptions","bindArrowKeys","showControls","showCommentList","showFullScreen","showMarkerShapeAndTooltips","internalCommenting","startInAnnotationMode","VideoJS2","src","onReady","useEffect","input","videoJsOptions","autoplay","controls","responsive","fluid","loop","sources","videoRef","useRef","playerRef","current","videoElement","player","console","log","plugin","annotationComments","dispose"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport videojs from \"video.js\";\nimport \"video.js/dist/video-js.css\";\nimport \"./Video.css\";\nimport AnnotationComments from \"@contently/videojs-annotation-comments\";\nimport \"@contently/videojs-annotation-comments/build/css/annotations.css\";\nvideojs.registerPlugin(\"annotationComments\", AnnotationComments(videojs));\n\nconst annotationsObjects = [\n  {\n    id: 1,\n    range: {\n      start: 10,\n      end: 15,\n    },\n    shape: {\n      x1: 23.47,\n      y1: 9.88,\n      x2: 60.83,\n      y2: 44.2,\n    },\n    comments: [\n      {\n        id: 1,\n        meta: {\n          datetime: \"2017-03-28T19:17:32.238Z\",\n          user_id: 1,\n          user_name: \"Jack Pope\",\n        },\n        body: \"The first comment!\",\n      },\n    ],\n  },\n];\n\nconst pluginOptions = {\n  // Collection of annotation data to initialize\n  annotationsObjects: [],\n  // Flexible meta data object (currently used for user data, but addl data can be provided to wrap each comment with metadata - provide the id of the current user and fullname of the current user at minimum, which are required for the UI)\n  meta: { user_id: null, user_name: null },\n  // Use arrow keys to move through annotations when Annotation mode is active\n  bindArrowKeys: true,\n  // Show or hide the control panel and annotation toggle button (NOTE - if controls are hidden you must provide custom UI and events to drive the annotations - more on that in \"Programmatic Control\" below)\n  showControls: true,\n  // Show or hide the comment list when an annotation is active. If false, the text 'Click and drag to select', will follow the cursor during annotation mode\n  showCommentList: true,\n  // If false, annotations mode will be disabled in fullscreen\n  showFullScreen: true,\n  // Show or hide the tooltips with comment preview, and annotation shape, on marker hover or timeline activate\n  showMarkerShapeAndTooltips: true,\n  // If false, step two of adding annotations (writing and saving the comment) will be disabled\n  internalCommenting: true,\n  // If true, toggle the player to annotation mode immediately after init. (NOTE - \"annotationModeEnabled\" event is not fired for this initial state)\n  startInAnnotationMode: false,\n};\n\nconst VideoJS2 = ({ src, onReady }) => {\n\nuseEffect(() => {\n \n}, [input])\n\n\n  const videoJsOptions = {\n    autoplay: false,\n    controls: true,\n    responsive: true,\n    fluid: false,\n    loop: true,\n    sources: [\n      {\n        src: src,\n        // type: ‘video/mp4’\n      },\n    ],\n  };\n  const videoRef = React.useRef(null);\n  const playerRef = React.useRef(null);\n  React.useEffect(() => {\n    // make sure Video.js player is only initialized once\n    if (!playerRef.current) {\n      const videoElement = videoRef.current;\n      if (!videoElement) return;\n      const player = (playerRef.current = videojs(\n        videoElement,\n        videoJsOptions,\n        () => {\n          console.log(\"readyyyy\");\n          onReady && onReady(player);\n          var plugin = player.annotationComments(pluginOptions);\n          plugin.onReady(() => {\n          });\n        }\n      ));\n    } else {\n      // you can update player here [update player through props]\n      // const player = playerRef.current;\n      // player.autoplay(options.autoplay);\n      // player.src(options.sources);\n    }\n  }, [videoJsOptions]);\n  // Dispose the Video.js player when the functional component unmounts\n  React.useEffect(() => {\n    return () => {\n      if (playerRef.current) {\n        playerRef.current.dispose();\n        playerRef.current = null;\n      }\n    };\n  }, []);\n  return (\n    <div data-vjs-player>\n      <video\n        ref={videoRef}\n        className=\"video-js vjs-big-play-centered\"\n        controls\n        width=\"640\"\n        height=\"268\"\n        preload=\"auto\"\n        data-setup='{ \"playbackRates\": [0.5, 1, 1.5, 2, 4] }'\n      />\n    </div>\n  );\n};\nexport default VideoJS2;\n"]},"metadata":{},"sourceType":"module"}